var feedback=document.querySelector(".feedback"),feedbackModal=document.querySelector(".modal-form"),feedbackModalClose=document.querySelector(".modal-form--close"),feedbackForm=document.querySelector(".modal-form form"),feedbackUserNameInput=document.querySelector("#name-field"),feedbackUserEmailInput=document.querySelector("#email-field"),feedbackUserTextInput=document.querySelector("#letter-field"),isStorageSupport=!0,storage="",ESC_KEYCODE=27;try{storageName=localStorage.getItem("userName"),storageEmail=localStorage.getItem("userEmail")}catch(e){isStorageSupport=!1}feedback.addEventListener("click",function(e){e.preventDefault(),feedbackModal.classList.add("modal-form--show"),storageName&&storageEmail?(feedbackUserNameInput.value=storageName,feedbackUserEmailInput.value=storageEmail,feedbackUserTextInput.focus()):feedbackUserNameInput.focus()}),feedbackModalClose.addEventListener("click",function(e){e.preventDefault(),feedbackModal.classList.remove("modal-form--show"),feedbackForm.classList.remove("modal-error")}),feedbackForm.addEventListener("submit",function(e){feedbackUserNameInput.value&&feedbackUserEmailInput.value&&feedbackUserTextInput.value?isStorageSupport&&(localStorage.setItem("userName",feedbackUserNameInput.value),localStorage.setItem("userEmail",feedbackUserEmailInput.value)):(e.preventDefault(),feedbackForm.classList.remove("modal-error"),feedbackForm.offsetWidth=feedbackForm.offsetWidth,feedbackForm.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){e.keyCode==ESC_KEYCODE&&feedbackModal.classList.contains("modal-form--show")&&(e.preventDefault(),feedbackModal.classList.remove("modal-form--show"),feedbackForm.classList.remove("modal-error"))});var mapLink=document.querySelector(".map-link"),mapModal=document.querySelector(".modal-map"),mapClose=document.querySelector(".modal-map .button--close");mapLink.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.add("modal-map--show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.remove("modal-map--show")}),window.addEventListener("keydown",function(e){e.keyCode==ESC_KEYCODE&&mapModal.classList.contains("modal-map--show")&&(e.preventDefault(),mapModal.classList.remove("modal-map--show"))});var sliderList=document.querySelectorAll(".slider-item"),sliderPinsContainer=document.querySelector(".slider-navigation"),sliderPins=document.querySelectorAll(".slider-navigation li a");function hideSlider(){for(var e=0;e<sliderList.length;e++)sliderList[e].classList.remove("slider-item--active")}function hideActivePin(){for(var e=0;e<sliderPins.length;e++)sliderPins[e].classList.remove("slider-navigation--active")}function showSlider(e){sliderList[e].classList.add("slider-item--active")}function showPin(e){sliderPins[e].classList.add("slider-navigation--active")}hideSlider(),hideActivePin(),showSlider(0),showPin(0),sliderPinsContainer.addEventListener("click",function(e){e.preventDefault();e.target;for(var a=0;a<sliderPins.length;a++)e.target==sliderPins[a]&&(hideActivePin(),hideSlider(),showPin(a),showSlider(a))});